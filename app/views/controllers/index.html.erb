<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Controladores</h2>
    <div class="d-flex gap-2">
      <button type="button" 
              class="btn btn-outline-primary" 
              data-bs-toggle="modal" 
              data-bs-target="#editModelUserModal_<%= current_user.id %>">
        <i class="fas fa-cog me-2"></i>Modelo Activo
      </button>
      <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#newControllerModal">
        <i class="fas fa-plus me-2"></i>Nuevo Controlador
      </button>
    </div>
  </div>

  <% if @controllers.empty? %>
    <div class="alert alert-info">
      <i class="fas fa-info-circle me-2"></i>
      No hay controladores registrados. Â¡Crea uno nuevo!
    </div>
    <% else %>
    <div class="row" id="controllers">
      <%= render partial: 'controller', collection: @controllers %>
    </div>
  <% end %>
</div>

<%= render 'controllers/modal_edit_model', user: current_user %>
<%= render 'controllers/modal_new' %>

<% @controllers.each do |controller| %>
  <%= render 'modal_edit', controller: controller %>
<% end %>


